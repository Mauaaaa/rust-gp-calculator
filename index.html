<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Rust Labs: Command Center v1.9</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
<style>
/* --- CORE VARIABLES --- */
:root {
    --bg-dark: #0a0a0a;
    --bg-sidebar: #000;
    --bg-panel: #161616;
    --border: #222;
    --c-raid: #ff4757;
    --c-build: #5352ed;
    --c-farm: #2ed573;
    --c-ind: #ffa502;
    --c-text: #ffffff;
    --nav-w: 280px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-dark);
    color: var(--c-text);
    height: 100vh;
    width: 100vw;
    overflow: hidden;
}

/* --- LOGO COMPONENT --- */
.logo-box {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 20px 0;
}
.logo-icon {
    width: 40px; height: 40px;
    border: 2px solid var(--c-raid);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    background: #111;
}

/* --- SIDEBAR (PC ONLY) --- */
.sidebar {
    position: fixed;
    left: 0; top: 0; bottom: 0;
    width: var(--nav-w);
    background: var(--bg-sidebar);
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    padding: 20px;
    z-index: 100;
}

.brand-text { font-family: 'Oswald'; font-size: 22px; text-transform: uppercase; letter-spacing: 1px; }
.brand-text span { color: var(--c-raid); }

.nav-header { font-size: 11px; font-weight: 800; color: #444; margin: 25px 0 10px 0; text-transform: uppercase; letter-spacing: 1px; }

.nav-item {
    padding: 12px 15px; margin-bottom: 4px; border-radius: 8px;
    cursor: pointer; font-size: 14px; font-weight: 600; color: #777;
    display: flex; align-items: center; gap: 12px; transition: 0.2s;
}
.nav-item:hover { background: #111; color: #fff; }
.nav-item.active { background: #1a1a1a; color: #fff; border-left: 3px solid var(--c-raid); }

/* --- MOBILE BOTTOM NAV --- */
.mobile-nav {
    display: none;
    position: fixed;
    bottom: 0; left: 0; right: 0;
    height: 70px;
    background: #000;
    border-top: 1px solid var(--border);
    z-index: 1000;
    justify-content: space-around;
    align-items: center;
    padding-bottom: env(safe-area-inset-bottom);
}
.mobile-item {
    display: flex; flex-direction: column; align-items: center;
    color: #555; font-size: 10px; font-weight: 700; text-transform: uppercase;
}
.mobile-item.active { color: var(--c-raid); }

/* --- MAIN CONTAINER --- */
.content-wrapper {
    margin-left: var(--nav-w);
    height: 100vh;
    overflow-y: auto;
    padding: 40px;
}

.view { display: none; width: 100%; max-width: 800px; margin: 0 auto; animation: fadeUp 0.3s ease; }
.view.active { display: block; }
@keyframes fadeUp { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }

/* --- UI ELEMENTS --- */
h2 { font-family: 'Oswald'; font-size: 32px; text-transform: uppercase; margin-bottom: 20px; }
.card { background: var(--bg-panel); border: 1px solid var(--border); border-radius: 16px; padding: 25px; margin-bottom: 20px; }
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

label { display: block; font-size: 11px; font-weight: 700; color: #666; text-transform: uppercase; margin: 15px 0 5px; }
input, select {
    width: 100%; background: #000; border: 1px solid #222; color: #fff;
    padding: 14px; border-radius: 10px; font-size: 16px; outline: none;
}

button {
    width: 100%; margin-top: 20px; padding: 16px; border-radius: 10px; border: none;
    font-weight: 800; text-transform: uppercase; color: #fff; cursor: pointer;
}
.btn-raid { background: var(--c-raid); }
.btn-ind { background: var(--c-ind); }

.result-box { margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.4); border-radius: 10px; border: 1px dashed #333; }
.res-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }

/* --- VIDEO LIBRARY --- */
.video-card { background: #111; border-radius: 12px; overflow: hidden; margin-bottom: 20px; border: 1px solid #222; }
.video-container { position: relative; padding-bottom: 56.25%; height: 0; }
.video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
.video-info { padding: 15px; }

/* --- PATCH MODAL --- */
.modal {
    position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
    z-index: 2000; display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none; transition: 0.3s;
}
.modal.active { opacity: 1; pointer-events: all; }
.modal-inner { background: #111; width: 90%; max-width: 500px; border-radius: 20px; padding: 30px; border: 1px solid #333; }
.patch-list { max-height: 250px; overflow-y: auto; margin: 20px 0; }
.patch-note { border-left: 2px solid var(--c-raid); padding-left: 15px; margin-bottom: 15px; }
.close-btn { background: #fff; color: #000; font-weight: 900; }

/* --- MOBILE BREAKPOINT --- */
@media (max-width: 800px) {
    .sidebar { display: none; }
    .mobile-nav { display: flex; }
    .content-wrapper { margin-left: 0; padding: 20px 20px 100px 20px; }
    .grid-2 { grid-template-columns: 1fr; }
    h2 { font-size: 24px; }
}

/* Toggle Switch */
.toggle-row { display: flex; gap: 10px; align-items: center; margin-bottom: 15px; }
.toggle-btn {
    flex: 1; padding: 8px; background: #222; border: 1px solid #444; color: #888;
    text-align: center; cursor: pointer; font-size: 12px; font-weight: bold; border-radius: 4px;
}
.toggle-btn.active { background: #e74c3c; color: #fff; border-color: #ff6b6b; }
</style>
</head>
<body>

<div id="patchModal" class="modal active">
    <div class="modal-inner">
        <div class="logo-box">
            <div class="logo-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ff4757" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="M12 8v8M8 12h8"/></svg>
            </div>
            <div class="brand-text">VERSION <span>1.9</span></div>
        </div>
        <div class="patch-list">
            <div class="patch-note">
                <div style="font-weight:800">v1.9 - Mobile Overhaul</div>
                <div style="font-size:12px; color:#888;">Fixed broken mobile UI. Sidebar now hides on small screens and is replaced by a professional bottom navigation bar. Adjusted touch targets.</div>
            </div>
            <div class="patch-note" style="opacity:0.5">
                <div style="font-weight:800">v1.8</div>
                <div style="font-size:12px; color:#888;">Custom SVG Logo integration. Improved dashboard layout.</div>
            </div>
        </div>
        <button class="close-btn" onclick="toggleModal(false)">Acknowledge</button>
    </div>
</div>

<nav class="sidebar">
    <div class="logo-box">
        <div class="logo-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ff4757" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="M12 8v8M8 12h8"/></svg>
        </div>
        <div class="brand-text">RUST <span>LABS</span></div>
    </div>
    
    <div class="nav-header">Combat</div>
    <div class="nav-item active" onclick="switchView('craft')">üíé Crafting</div>
    <div class="nav-item" onclick="switchView('raid')">üí• Raiding</div>
    <div class="nav-item" onclick="switchView('eco')">üî® Eco</div>

    <div class="nav-header">Utility</div>
    <div class="nav-item" onclick="switchView('lib')">üè∞ Library</div>
    <div class="nav-item" onclick="switchView('recycle')">‚ôª Recycle</div>
    <div class="nav-item" onclick="switchView('smelt')">üî• Smelt</div>
</nav>

<nav class="mobile-nav">
    <div class="mobile-item active" id="m-craft" onclick="switchView('craft')"><span>üíé</span>Craft</div>
    <div class="mobile-item" id="m-raid" onclick="switchView('raid')"><span>üí•</span>Raid</div>
    <div class="mobile-item" id="m-eco" onclick="switchView('eco')"><span>üî®</span>Eco</div>
    <div class="mobile-item" id="m-lib" onclick="switchView('lib')"><span>üè∞</span>Base</div>
    <div class="mobile-item" id="m-recycle" onclick="switchView('recycle')"><span>‚ôª</span>Recy</div>
</nav>

<div class="content-wrapper">
    
    <section id="view-craft" class="view active">
        <h2>Crafting Calc</h2>
        <div class="card">
            <label>Item</label>
            <select id="cItem"><option value="rocket">Rocket</option><option value="c4">C4</option></select>
            <label>Quantity</label>
            <input type="number" id="cQty" value="1">
            <button class="btn-raid" onclick="doCraft()">Calculate Resources</button>
            <div id="cRes" class="result-box" style="display:none"></div>
        </div>
    </section>

    <section id="view-raid" class="view">
        <h2>Explosive Raids</h2>
        <div class="card">
            <label>Target</label>
            <select id="rTar">
                <option value="stone">Stone Wall</option>
                <option value="metal">Metal Wall</option>
                <option value="armored">Armored Wall</option>
            </select>
            <label>Ammo</label>
            <select id="rAmmo"><option value="rocket">Rocket</option><option value="c4">C4</option></select>
            <button class="btn-raid" onclick="doRaid()">Calculate Boom</button>
            <div id="rRes" class="result-box" style="display:none"></div>
        </div>
    </section>

    <section id="view-eco" class="view">
        <h2>Eco Raiding</h2>
        <div class="card">
            <div class="toggle-row">
                <div class="toggle-btn active" id="eFresh" onclick="setEMode('fresh')">New Tools</div>
                <div class="toggle-btn" id="eRefill" onclick="setEMode('refill')">Refills</div>
            </div>
            <label>Target</label>
            <select id="eTar"><option value="stone">Stone Wall (Soft)</option><option value="wood">Wood Wall (Soft)</option></select>
            <label>Tool</label>
            <select id="eTool"><option value="spear">Wooden Spear</option><option value="jack">Jackhammer</option></select>
            <button class="btn-raid" onclick="doEco()">Calculate Tools</button>
            <div id="eRes" class="result-box" style="display:none"></div>
        </div>
    </section>

    <section id="view-lib" class="view">
        <h2>Base Designs</h2>
        <div class="video-card">
            <div class="video-container"><iframe src="https://www.youtube.com/embed/YpXj0l8nOto"></iframe></div>
            <div class="video-info"><b>The Frustration</b> - Evil Wurst</div>
        </div>
        <div class="video-card">
            <div class="video-container"><iframe src="https://www.youtube.com/embed/5F_fB9T3uI8"></iframe></div>
            <div class="video-info"><b>The Anvil</b> - Heavy Bunker</div>
        </div>
    </section>

    <section id="view-recycle" class="view">
        <h2>Recycler</h2>
        <div class="card">
            <label>Tech Trash</label><input type="number" id="reTech" value="0">
            <button class="btn-ind" onclick="doRecycle()">Analyze</button>
            <div id="reRes" class="result-box" style="display:none"></div>
        </div>
    </section>

    <section id="view-smelt" class="view">
        <h2>Smelting</h2>
        <div class="card">
            <label>Metal Ore</label><input type="number" id="sMet" value="0">
            <button class="btn-ind" onclick="doSmelt()">Calculate</button>
            <div id="sRes" class="result-box" style="display:none"></div>
        </div>
    </div>

</div>

<script>
let eMode = 'fresh';
function setEMode(m) {
    eMode = m;
    document.getElementById('eFresh').classList.toggle('active', m==='fresh');
    document.getElementById('eRefill').classList.toggle('active', m==='refill');
}

function toggleModal(show) {
    document.getElementById('patchModal').classList.toggle('active', show);
}

function switchView(id) {
    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.getElementById('view-'+id).classList.add('active');
    
    // Sidebar active
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    const sideItem = Array.from(document.querySelectorAll('.nav-item')).find(n => n.onclick.toString().includes(id));
    if(sideItem) sideItem.classList.add('active');

    // Mobile nav active
    document.querySelectorAll('.mobile-item').forEach(m => m.classList.remove('active'));
    const mobItem = document.getElementById('m-'+id);
    if(mobItem) mobItem.classList.add('active');
}

/* LOGIC */
function doCraft() {
    const q = +document.getElementById('cQty').value;
    const i = document.getElementById('cItem').value;
    let s = (i==='rocket')?1400:2200;
    document.getElementById('cRes').style.display='block';
    document.getElementById('cRes').innerHTML = `<div class="res-row"><span>Sulfur</span><b>${(s*q).toLocaleString()}</b></div>`;
}

function doRaid() {
    const t = document.getElementById('rTar').value;
    const a = document.getElementById('rAmmo').value;
    let n = 0;
    if(t==='stone') n = (a==='rocket')?2:1;
    if(t==='metal') n = (a==='rocket')?4:2;
    if(t==='armored') n = (a==='rocket')?8:3;
    document.getElementById('rRes').style.display='block';
    document.getElementById('rRes').innerHTML = `<div class="res-row"><span>Needed</span><b>${n} ${a.toUpperCase()}s</b></div>`;
}

function doEco() {
    const t = document.getElementById('eTar').value;
    const tl = document.getElementById('eTool').value;
    let n = (t==='stone')?(tl==='spear'?23:1.2):(tl==='spear'?2:0.1);
    document.getElementById('eRes').style.display='block';
    document.getElementById('eRes').innerHTML = `<div class="res-row"><span>Qty</span><b>${n} ${eMode}</b></div>`;
}

function doRecycle() {
    const t = +document.getElementById('reTech').value;
    document.getElementById('reRes').style.display='block';
    document.getElementById('reRes').innerHTML = `<div class="res-row"><span>Scrap</span><b>${t*20}</b></div>`;
}

function doSmelt() {
    const m = +document.getElementById('sMet').value;
    document.getElementById('sRes').style.display='block';
    document.getElementById('sRes').innerHTML = `<div class="res-row"><span>Wood</span><b>${Math.ceil(m*1.6)}</b></div>`;
}
</script>
</body>
</html>
