<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rust Calculator</title>

<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
    --rust:#e6892e;
    --dark:#0b0b0b;
}

body{
    font-family:'Oswald',sans-serif;
    margin:0;
    min-height:100vh;
    background:
        radial-gradient(circle at top, #2b2b2b, #0b0b0b),
        url("https://rustlabs.com/img/bg/bg_dark.jpg");
    background-size:cover;
    color:#f2f2f2;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
}

/* animated smoke */
.smoke{
    position:fixed;
    inset:0;
    background:
        radial-gradient(circle at 30% 80%, rgba(255,255,255,0.05), transparent 40%),
        radial-gradient(circle at 70% 20%, rgba(255,255,255,0.04), transparent 45%);
    animation:drift 40s linear infinite;
    pointer-events:none;
}

@keyframes drift{
    from{transform:translateY(0);}
    to{transform:translateY(-300px);}
}

.container{
    width:92vw;
    max-width:1200px;
    background:linear-gradient(145deg,#2a2a2a,#141414);
    border:2px solid #3a3a3a;
    border-radius:14px;
    padding:30px;
    box-shadow:0 0 60px rgba(0,0,0,0.9);
    position:relative;
    z-index:2;
}

h1{
    text-align:center;
    color:var(--rust);
    font-size:44px;
    margin-bottom:20px;
}

.tabs{
    display:flex;
    gap:10px;
    margin-bottom:20px;
}

.tab{
    flex:1;
    padding:16px;
    background:#111;
    text-align:center;
    cursor:pointer;
    font-size:22px;
    border-bottom:4px solid transparent;
}

.tab.active{
    border-bottom:4px solid var(--rust);
    color:#ffb347;
}

label{
    margin-top:14px;
    display:block;
    font-size:20px;
}

input,select{
    width:100%;
    padding:12px;
    font-size:20px;
    background:#000;
    color:#fff;
    border:1px solid #444;
    border-radius:6px;
}

button{
    width:100%;
    margin-top:22px;
    padding:16px;
    font-size:22px;
    background:linear-gradient(145deg,#ff9f1a,#d87400);
    border:none;
    border-radius:8px;
    cursor:pointer;
}

.result{
    margin-top:24px;
    background:#000;
    padding:18px;
    border-left:6px solid var(--rust);
}

.section-title{
    color:#ff9f1a;
    font-size:24px;
    margin-top:18px;
}

.item{
    display:flex;
    align-items:center;
    gap:12px;
    font-size:20px;
    margin-top:6px;
}

.item img{
    width:36px;
    height:36px;
}
</style>
</head>

<body>
<div class="smoke"></div>

<div class="container">
<h1>Rust Calculator</h1>

<div class="tabs">
    <div class="tab active" onclick="switchTab('gp',this)">üî© Scrap ‚Üí GP</div>
    <div class="tab" onclick="switchTab('explosives',this)">üí£ Explosives</div>
    <div class="tab" onclick="switchTab('nodes',this)">‚õèÔ∏è Sulfur Nodes</div>
</div>

<!-- SCRAP TO GP -->
<div id="gpTab">
    <label>Scrap per Smoke Grenade</label>
    <input type="number" id="spg" value="3">

    <label>GP per Grenade</label>
    <select id="gppg">
        <option value="21">Non-Safe Zone (21)</option>
        <option value="14">Safe Zone (14)</option>
    </select>

    <label>Gunpowder Wanted</label>
    <input type="number" id="gpWant">

    <button onclick="calcGP()">Calculate</button>
    <div class="result" id="gpResult"></div>
</div>

<!-- EXPLOSIVES -->
<div id="explosivesTab" style="display:none;">
    <label>Explosive Type</label>
    <select id="expType">
        <option value="beancan">Beancan Grenade</option>
        <option value="satchel">Satchel Charge</option>
        <option value="c4">C4</option>
        <option value="rocket">Rocket</option>
        <option value="ammo">Explosive Ammo (2)</option>
        <option value="propane">Propane Bomb</option>
    </select>

    <label>Amount Wanted</label>
    <input type="number" id="expAmt">

    <label>Gunpowder Crafting</label>
    <select id="gpCraft">
        <option value="inv">Inventory (20S / 30C)</option>
        <option value="mix">Mixing Table (20S / 20C)</option>
    </select>

    <button onclick="calcExplosives()">Calculate</button>
    <div class="result" id="expResult"></div>
</div>

<!-- SULFUR NODES -->
<div id="nodesTab" style="display:none;">
    <label>Total Sulfur Needed</label>
    <input type="number" id="sulfurInput">

    <button onclick="calcNodes()">Calculate Nodes</button>
    <div class="result" id="nodeResult"></div>
</div>
</div>

<script>
const IMG={
 scrap:"https://rustlabs.com/img/items180/scrap.png",
 smoke:"https://rustlabs.com/img/items180/smoke.grenade.png",
 sulfur:"https://rustlabs.com/img/items180/sulfur.png",
 coal:"https://rustlabs.com/img/items180/charcoal.png",
 gp:"https://rustlabs.com/img/items180/gun.powder.png",
 frags:"https://rustlabs.com/img/items180/metal.fragments.png",
 beancan:"https://rustlabs.com/img/items180/beancan.grenade.png",
 node:"https://rustlabs.com/img/entities/sulfur-ore.png"
};

function switchTab(tab,el){
 document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
 el.classList.add("active");
 gpTab.style.display = tab==="gp"?"block":"none";
 explosivesTab.style.display = tab==="explosives"?"block":"none";
 nodesTab.style.display = tab==="nodes"?"block":"none";
}

function line(img,name,val){
 if(!val||val<=0) return "";
 return `<div class="item"><img src="${img}">${name}: <b>${val}</b></div>`;
}

/* SCRAP TO GP */
function calcGP(){
 const want=+gpWant.value;
 const gren=Math.ceil(want / +gppg.value);
 gpResult.innerHTML =
 line(IMG.smoke,"Smoke Grenades",gren) +
 line(IMG.scrap,"Scrap",gren * +spg.value);
}

/* SULFUR NODES */
function calcNodes(){
 const s=+sulfurInput.value;
 const n=Math.ceil(s/300);
 nodeResult.innerHTML=
 line(IMG.sulfur,"Sulfur Needed",s) +
 line(IMG.node,"Sulfur Nodes",n);
}

/* EXPLOSIVES (working baseline ‚Äì expandable) */
function calcExplosives(){
 const type=expType.value;
 const amt=+expAmt.value;
 let gp=0, frags=0;

 if(type==="beancan"){
   gp=60*amt;
   frags=20*amt;
 }

 expResult.innerHTML =
 `<div class="section-title">RAW</div>` +
 line(IMG.gp,"Gunpowder",gp) +
 line(IMG.frags,"Metal Fragments",frags);
}
</script>
</body>
</html>
