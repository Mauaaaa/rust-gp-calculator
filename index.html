<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rust Explosives & Recycling Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --bg:#0f1411;
  --panel:#1a221c;
  --panel2:#202a22;
  --accent:#c77d2a;
  --text:#e6e6e6;
}
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  margin:0;
  background:url('https://rustlabs.com/img/bg.jpg') center/cover fixed;
  color:var(--text);
  min-height:100vh;
  overflow-y:auto;
}
header{
  padding:20px;
  text-align:center;
  background:linear-gradient(180deg,rgba(0,0,0,.85),rgba(0,0,0,.6));
}
header h1{margin:0;color:var(--accent)}
.tabs{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  background:#0b0f0c;
}
.tabs button{
  background:none;
  border:none;
  color:#aaa;
  padding:15px 20px;
  cursor:pointer;
  font-size:16px;
}
.tabs button.active{color:#fff;border-bottom:3px solid var(--accent)}
.section{display:none;padding:20px;max-width:1200px;margin:auto}
.section.active{display:block}
.panel{
  background:rgba(20,26,22,.9);
  border-radius:10px;
  padding:20px;
  margin-bottom:20px;
}
.panel h2{margin-top:0;color:var(--accent)}
.row{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.row img{width:32px;height:32px}
input[type=number]{width:80px;padding:6px;background:#111;color:#fff;border:1px solid #333}
select,button{
  padding:8px 12px;
  background:#111;
  color:#fff;
  border:1px solid #333;
}
button.calc{background:var(--accent);border:none;color:#000;font-weight:bold}
.dropdown{margin-top:10px}
.dropdown summary{cursor:pointer;font-weight:bold;color:var(--accent)}
.results .row{justify-content:space-between}
.recycler-list{max-height:420px;overflow-y:auto}
.recycler-item{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.recycler-item button{width:32px;height:32px}
footer{height:40px}
</style>
</head>
<body>
<header>
  <h1>Rust Explosives & Recycling Calculator</h1>
</header>
<div class="tabs">
  <button class="active" onclick="showTab('explosives')">üí£ Explosives</button>
  <button onclick="showTab('recycling')">‚ôªÔ∏è Recycling</button>
</div>

<!-- EXPLOSIVES TAB -->
<div id="explosives" class="section active">
  <div class="panel">
    <h2>Explosives Calculator</h2>
    <div class="row"><img src="https://rustlabs.com/img/items180/satchel-charge.png">Satchels <input id="satchel" type="number" min="0"></div>
    <div class="row"><img src="https://rustlabs.com/img/items180/c4.png">C4 <input id="c4" type="number" min="0"></div>
    <div class="row"><img src="https://rustlabs.com/img/items180/rocket.png">Rockets <input id="rocket" type="number" min="0"></div>
    <div class="row"><img src="https://rustlabs.com/img/items180/explosive-556-rifle-ammo.png">Explosive Ammo (x2) <input id="exammo" type="number" min="0"></div>
    <div class="row"><img src="https://rustlabs.com/img/items180/grenade.beancan.png">Beancan Grenades <input id="beancan" type="number" min="0"></div>
    <div class="row"><img src="https://rustlabs.com/img/items180/propane.tank.png">Propane Bombs <input id="propane" type="number" min="0"></div>

    <div class="row">Gunpowder Crafting:
      <select id="gpMode">
        <option value="table">Mixing Table</option>
        <option value="inv">Inventory</option>
      </select>
    </div>

    <button class="calc" onclick="calcExplosives()">Calculate</button>
  </div>

  <div id="expResults" class="panel results"></div>
</div>

<!-- RECYCLING TAB -->
<div id="recycling" class="section">
  <div class="panel">
    <h2>Recycler</h2>
    <div class="row">Recycler Type:
      <select id="recyclerType">
        <option value="safe">Safe Zone</option>
        <option value="unsafe">Non-Safe Zone</option>
      </select>
    </div>
  </div>

  <div class="panel recycler-list" id="recyclerList"></div>

  <div class="panel results" id="recyclerResults"></div>
</div>

<footer></footer>

<script>
function showTab(id){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

function addRow(html,img,name,val){
  if(val>0) html+=`<div class='row'><img src='${img}'>${name}<b>${val}</b></div>`;
  return html;
}

function calcExplosives(){
  const s=+satchel.value||0,c=+c4.value||0,r=+rocket.value||0,e=+exammo.value||0,b=+beancan.value||0,p=+propane.value||0;
  let gp=0,sul=0,coal=0,cloth=0,tech=0,lg=0,frags=0,rope=0,pipes=0;

  // Satchels
  gp+=s*4*60; frags+=s*4*20; cloth+=s*10; rope+=s;
  // Beancans direct
  gp+=b*60; frags+=b*20;
  // C4
  gp+=c*20*50; lg+=c*20*3; sul+=c*20*10; frags+=c*20*10; cloth+=c*5; tech+=c*2;
  // Rockets
  gp+=r*150; pipes+=r*2; gp+=r*10*50; lg+=r*10*3; sul+=r*10*10; frags+=r*10*10;
  // Explosive ammo
  gp+=e*20; sul+=e*10; frags+=e*10;
  // Propane bombs
  gp+=p*450; lg+=p*20;

  const mode=gpMode.value;
  if(mode==='inv'){sul+=Math.ceil(gp/10)*20; coal+=Math.ceil(gp/10)*30}
  else{sul+=Math.ceil(gp/10)*20; coal+=Math.ceil(gp/10)*20}

  let html='<h2>Results</h2>';
  html=addRow(html,'https://rustlabs.com/img/items180/sulfur.png','Sulfur',sul);
  html=addRow(html,'https://rustlabs.com/img/items180/coal.png','Coal',coal);
  html=addRow(html,'https://rustlabs.com/img/items180/cloth.png','Cloth',cloth);
  html=addRow(html,'https://rustlabs.com/img/items180/tech-trash.png','Tech Trash',tech);
  html=addRow(html,'https://rustlabs.com/img/items180/low-grade-fuel.png','Low Grade',lg);
  html=addRow(html,'https://rustlabs.com/img/items180/metal-fragments.png','Metal Frags',frags);
  html=addRow(html,'https://rustlabs.com/img/items180/rope.png','Rope',rope);
  html=addRow(html,'https://rustlabs.com/img/items180/metal-pipe.png','Metal Pipes',pipes);

  html+=`<details class='dropdown'><summary>Gunpowder Craft Guide</summary>
  <div class='row'><img src='https://rustlabs.com/img/items180/gunpowder.png'>Gunpowder Needed <b>${gp}</b></div>
  <div class='row'>Crafts (x10) <b>${Math.ceil(gp/10)}</b></div></details>`;

  document.getElementById('expResults').innerHTML=html;
}

// RECYCLER DATA
const recyclerItems=[
  ['Tech Trash','tech-trash',16,24,'HQM 20%'],
  ['Electric Fuse','electric-fuse',16,24,''],
  ['Metal Pipe','metal-pipe',4,6,'Metal Frags 50%'],
  ['Metal Spring','metal-spring',8,12,''],
  ['Gears','gears',8,12,''],
  ['SMG Body','smg-body',12,18,''],
  ['Semi Body','semi-automatic-body',12,18,''],
  ['Rifle Body','rifle-body',20,31,'HQM 20%'],
  ['Road Signs','road-signs',4,6,'Metal Frags 100%'],
  ['Sheet Metal','sheet-metal',7,10,'Metal Frags 100%'],
  ['Propane Tank','propane-tank',1,2,'']
];

const list=document.getElementById('recyclerList');
const counts={};
recyclerItems.forEach(([n,img])=>{
  counts[n]=0;
  list.innerHTML+=`<div class='recycler-item'>
  <button onclick="chg('${n}',-1)">-</button>
  <input id="r_${n}" type="number" value="0" min="0" onchange="set('${n}',this.value)">
  <button onclick="chg('${n}',1)">+</button>
  <img src="https://rustlabs.com/img/items180/${img}.png">${n}
  </div>`;
});

function chg(n,d){counts[n]=Math.max(0,counts[n]+d);document.getElementById('r_'+n).value=counts[n];calcRecycle()}
function set(n,v){counts[n]=Math.max(0,+v||0);calcRecycle()}

function calcRecycle(){
  const safe=recyclerType.value==='safe';
  let scrap=0,html='<h2>Recycle Results</h2>';
  recyclerItems.forEach(([n,img,s,u,ch])=>{
    const c=counts[n]; if(!c) return;
    const val=(safe?s:u)*c; scrap+=val;
    html+=`<div class='row'><img src='https://rustlabs.com/img/items180/${img}.png'>${n}<b>${val} scrap</b></div>`;
    if(ch) html+=`<div class='row'>‚Ü≥ ${ch}</div>`;
  });
  html+=`<div class='row'><b>Total Scrap</b><b>${scrap}</b></div>`;
  document.getElementById('recyclerResults').innerHTML=html;
}
</script>
</body>
</html>
